<p-card styleClass="p-card-card-item">
    <ng-template pTemplate="header">
        <div style="display: flex;">
            <h3 style="flex: 2;">Test details: </h3>
            <p-button icon="pi pi-plus" styleClass="p-button-warning" (onClick)="displayAddPopup = true"></p-button>
        </div>
    </ng-template>
    <ng-template pTemplate="content">
        <p-table [value]="testDataList">
            <ng-template pTemplate="header">
                <tr>
                    <th>Test name</th>
                    <th>Subject</th>
                    <th>Total marks</th>
                    <th>Marks scored</th>
                    <th>Test date</th>
                    <th>Actions</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-test>
                <tr>
                    <td> {{ test.testName }} </td>
                    <td> {{ test.subject }} </td>
                    <td> {{ test.totalMarks }} </td>
                    <td> {{ test.marksScored }} </td>
                    <td> {{ test.testDate | date}} </td>
                    <td><p-button styleClass="p-button-delete" icon="pi pi-trash" (onClick)="DeleteTest(test)"></p-button></td>
                </tr>
                <!-- <ng-container *ngFor="let test of testDataList">
                    <tr>
                        <td>Hi</td>
                        <td> {{ test.testName }} </td>
                        <td><p-button styleClass="p-button-delete" icon="pi pi-trash"></p-button></td>
                    </tr>
                </ng-container> -->
            </ng-template>
        </p-table>                
    </ng-template>
</p-card>

    <p-dialog 
[(visible)]="displayAddPopup" 
[modal]="true"
header="Add test details"
(onHide)="displayAddPopup = false">
<div style="width: 1000px; height: 400px;">
     <form [formGroup]="addTestFormGroup" (ngSubmit)="OnSubmit()">
        <label for="test-type">Test type: </label>
        <p-cascadeSelect 
        id="test-type"
        placeholder="Test Name"
        [options]="testTypeList" 
        formControlName="testName" 
        optionGroupLabel="name"
        [optionGroupChildren]="['subTypes']">
        </p-cascadeSelect>

        <label for="total-marks">Total marks: </label>
        <input 
        id="total-marks" 
        type="number" 
        formControlName = "totalMarks"
        pInputText>

        <label for="marks-scored">Marks scored: </label>
        <input 
        id="marks-scored" 
        type="number" 
        formControlName = "marksScored"
        pInputText>

        <label for="test-date">Test date: </label>
        <p-calendar id="test-date" formControlName="testDate"></p-calendar>

        <label for="subject">Subject: </label>
        <p-dropdown
            [options]="GetSubjectList()"
            id="subject"
            placeholder="Select a subject"
            formControlName = "subject">
        </p-dropdown>

        <p-button label="Add test" type="submit"></p-button>
     </form>
</div>
</p-dialog>